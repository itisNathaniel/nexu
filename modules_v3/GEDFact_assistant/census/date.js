Date.$VERSION=1.02;Date.LZ=function(b){return(0>b||9<b?"":"0")+b};Date.monthNames="January February March April May June July August September October November December".split(" ");Date.monthAbbreviations="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");Date.dayNames="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ");Date.dayAbbreviations="Sun Mon Tue Wed Thu Fri Sat".split(" ");Date.preferAmericanFormat=!0;Date.prototype.getFullYear||(Date.prototype.getFullYear=function(){var b=this.getYear();return 1900>b?b+1900:b});Date.parseString=function(E,A){if("undefined"==typeof A||null==A||""==A){for(var y=["M/d/y","M-d-y","M.d.y","M/d","M-d"],D=["d/M/y","d-M-y","d.M.y","d/M","d-M"],D=["y-M-d;MMM d, y;MMM d,y;y-MMM-d;d-MMM-y;MMM d;MMM-d;d-MMM".split(";"),Date.preferAmericanFormat?y:D,Date.preferAmericanFormat?D:y],y=0;y<D.length;y++){for(var x=D[y],u=0;u<x.length;u++){var t=Date.parseString(E,x[u]);if(null!=t){return t}}}return null}this.isInteger=function(d){for(var c=0;c<d.length;c++){if(-1=="1234567890".indexOf(d.charAt(c))){return !1}}return !0};this.getInt=function(f,g,l,k){for(;k>=l;k--){var h=f.substring(g,g+k);if(h.length<l){break}if(this.isInteger(h)){return h}}return null};E+="";A+="";for(var x=D=0,C=y="",v=(new Date).getFullYear(),w=1,B=1,z=0,j=0,i=0,F="";x<A.length;){y=A.charAt(x);for(C="";A.charAt(x)==y&&x<A.length;){C+=A.charAt(x++)}if("yyyy"==C||"yy"==C||"y"==C){"yyyy"==C&&(t=u=4);"yy"==C&&(t=u=2);"y"==C&&(u=2,t=4);v=this.getInt(E,D,u,t);if(null==v){return null}D+=v.length;2==v.length&&(v=70<v?1900+(v-0):2000+(v-0))}else{if("MMM"==C||"NNN"==C){w=0;C="MMM"==C?Date.monthNames.concat(Date.monthAbbreviations):Date.monthAbbreviations;for(y=0;y<C.length;y++){var o=C[y];if(E.substring(D,D+o.length).toLowerCase()==o.toLowerCase()){w=y%12+1;D+=o.length;break}}if(1>w||12<w){return null}}else{if("EE"==C||"E"==C){for(C="EE"==C?Date.dayNames:Date.dayAbbreviations,y=0;y<C.length;y++){if(o=C[y],E.substring(D,D+o.length).toLowerCase()==o.toLowerCase()){D+=o.length;break}}}else{if("MM"==C||"M"==C){w=this.getInt(E,D,C.length,2);if(null==w||1>w||12<w){return null}D+=w.length}else{if("dd"==C||"d"==C){B=this.getInt(E,D,C.length,2);if(null==B||1>B||31<B){return null}D+=B.length}else{if("hh"==C||"h"==C){z=this.getInt(E,D,C.length,2);if(null==z||1>z||12<z){return null}D+=z.length}else{if("HH"==C||"H"==C){z=this.getInt(E,D,C.length,2);if(null==z||0>z||23<z){return null}D+=z.length}else{if("KK"==C||"K"==C){z=this.getInt(E,D,C.length,2);if(null==z||0>z||11<z){return null}D+=z.length;z++}else{if("kk"==C||"k"==C){z=this.getInt(E,D,C.length,2);if(null==z||1>z||24<z){return null}D+=z.length;z--}else{if("mm"==C||"m"==C){j=this.getInt(E,D,C.length,2);if(null==j||0>j||59<j){return null}D+=j.length}else{if("ss"==C||"s"==C){i=this.getInt(E,D,C.length,2);if(null==i||0>i||59<i){return null}D+=i.length}else{if("a"==C){if("am"==E.substring(D,D+2).toLowerCase()){F="AM"}else{if("pm"==E.substring(D,D+2).toLowerCase()){F="PM"}else{return null}}D+=2}else{if(E.substring(D,D+C.length)!=C){return null}D+=C.length}}}}}}}}}}}}}if(D!=E.length){return null}if(2==w){if(0==v%4&&0!=v%100||0==v%400){if(29<B){return null}}else{if(28<B){return null}}}if((4==w||6==w||9==w||11==w)&&30<B){return null}12>z&&"PM"==F?z=z-0+12:11<z&&"AM"==F&&(z-=12);return new Date(v,w-1,B,z,j,i)};Date.isValid=function(b,c){return null!=Date.parseString(b,c)};Date.prototype.isBefore=function(b){return null==b?!1:this.getTime()<b.getTime()};Date.prototype.isAfter=function(b){return null==b?!1:this.getTime()>b.getTime()};Date.prototype.equals=function(b){return null==b?!1:this.getTime()==b.getTime()};Date.prototype.equalsIgnoreTime=function(b){if(null==b){return !1}var c=(new Date(this.getTime())).clearTime();b=(new Date(b.getTime())).clearTime();return c.getTime()==b.getTime()};Date.prototype.format=function(v){v+="";var r="",q=0,u="",p="",u=this.getYear()+"",p=this.getMonth()+1,i=this.getDate(),f=this.getDay(),t=this.getHours(),j=this.getMinutes(),o=this.getSeconds(),s={};4>u.length&&(u=""+(+u+1900));s.y=""+u;s.yyyy=u;s.yy=u.substring(2,4);s.M=p;s.MM=Date.LZ(p);s.MMM=Date.monthNames[p-1];s.NNN=Date.monthAbbreviations[p-1];s.d=i;s.dd=Date.LZ(i);s.E=Date.dayAbbreviations[f];s.EE=Date.dayNames[f];s.H=t;s.HH=Date.LZ(t);s.h=0==t?12:12<t?t-12:t;s.hh=Date.LZ(s.h);s.K=s.h-1;s.k=s.H+1;s.KK=Date.LZ(s.K);s.kk=Date.LZ(s.k);s.a=11<t?"PM":"AM";s.m=j;s.mm=Date.LZ(j);s.s=o;for(s.ss=Date.LZ(o);q<v.length;){u=v.charAt(q);for(p="";v.charAt(q)==u&&q<v.length;){p+=v.charAt(q++)}r="undefined"!=typeof s[p]?r+s[p]:r+p}return r};Date.prototype.getDayName=function(){return Date.dayNames[this.getDay()]};Date.prototype.getDayAbbreviation=function(){return Date.dayAbbreviations[this.getDay()]};Date.prototype.getMonthName=function(){return Date.monthNames[this.getMonth()]};Date.prototype.getMonthAbbreviation=function(){return Date.monthAbbreviations[this.getMonth()]};Date.prototype.clearTime=function(){this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);return this};Date.prototype.add=function(b,d){if("undefined"==typeof b||null==b||"undefined"==typeof d||null==d){return this}d=+d;if("y"==b){this.setFullYear(this.getFullYear()+d)}else{if("M"==b){this.setMonth(this.getMonth()+d)}else{if("d"==b){this.setDate(this.getDate()+d)}else{if("w"==b){for(var c=0<d?1:-1;0!=d;){for(this.add("d",c);0==this.getDay()||6==this.getDay();){this.add("d",c)}d-=c}}else{"h"==b?this.setHours(this.getHours()+d):"m"==b?this.setMinutes(this.getMinutes()+d):"s"==b&&this.setSeconds(this.getSeconds()+d)}}}}return this};function calculateJD(b){cdDate=new Date(b);year=cdDate.getYear();1000>year&&(year+=1900);month=cdDate.getMonth()+1;day=cdDate.getDate();hour=cdDate.getHours();min=cdDate.getMinutes();sec=cdDate.getSeconds();univTime=hour+min/60+sec/3600;sign=0<=100*year+month-190002.5?1:-1;part1=367*year;part2=Math.floor(7*(year+Math.floor((month+9)/12))/4);part3=day+Math.floor(275*month/9);part4=1721013.5+univTime/24;part5=0.5*sign;return jd=part1-part2+part3+part4-part5+0.5};